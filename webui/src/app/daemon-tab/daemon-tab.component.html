<div class="grid m-0" *ngIf="daemon">
    <div class="col-12">
        <p-panel>
            <ng-template #header>
                <div class="flex flex-1 justify-content-between flex-wrap gap-3 align-items-center">
                    <div class="daemon-header">
                        <i class="{{ daemonStatusIconClass }} text-xl" pTooltip="{{ daemonStatusIconTooltip }}"></i>
                        <div>
                            <div class="text-xl font-bold">{{ daemon.name | daemonNiceName }}</div>
                            <div class="daemon-meta">
                                Machine:
                                <ng-container *ngIf="daemon.machine; else unknownMachine">
                                    <a routerLink="/machines/{{ daemon.machine.id }}">
                                        {{ daemon.machine.hostname || daemon.machine.address }}
                                    </a>
                                </ng-container>
                                <ng-template #unknownMachine>Unknown</ng-template>
                            </div>
                        </div>
                    </div>
                    <p-button
                        label="Refresh"
                        icon="pi pi-refresh"
                        (onClick)="refresh()"
                        [disabled]="daemon.id === undefined"
                    ></p-button>
                </div>
            </ng-template>
            <app-daemon-overview [daemon]="daemon"></app-daemon-overview>
        </p-panel>
    </div>

    <div class="col-12 md:col-7">
        <app-kea-daemon *ngIf="isKeaDaemon" [daemon]="daemon"></app-kea-daemon>
        <app-bind9-daemon *ngIf="daemon.name === 'named'" [daemon]="daemon"></app-bind9-daemon>
        <app-pdns-daemon *ngIf="daemon.name === 'pdns'" [daemon]="daemon"></app-pdns-daemon>
    </div>

    <div class="col-12 md:col-5">
        <h3 class="underlined">Events</h3>
        <app-events-panel [filter]="{ machine: daemon.machine?.id, daemonId: daemon.id }"></app-events-panel>
    </div>
</div>
