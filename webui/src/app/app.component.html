<div *ngIf="currentUser">
    <div class="flex align-items-center top-navbar">
        <div class="flex-grow-1">
            <p-menubar [model]="menuItems" breakpoint="1390px" [dt]="appMenubar" styleClass="app-menubar">
                <ng-template #start>
                    <div class="flex align-items-center gap-2 mr-2 sm:mr-4 ml-1 sm:ml-2">
                        <a
                            routerLink="/"
                            class="logo no-underline flex flex-shrink-0 align-items-center gap-2"
                            pTooltip="Version: {{ storkVersion }} <br> Build Date: {{ storkBuildDate }}"
                            tooltipStyleClass="stork-version-tooltip"
                            [escape]="false"
                        >
                            <img src="assets/stork-logo-small.png" id="small-stork-logo-img" height="36" width="41" />
                            <span class="hidden xl:block">
                                <svg width="88" height="28" viewBox="0 0 88 28" xmlns="http://www.w3.org/2000/svg">
                                    <g
                                        id="svgGroup"
                                        stroke-linecap="round"
                                        fill-rule="evenodd"
                                        font-size="2.3rem"
                                        stroke="#ffffff"
                                        stroke-width="1px"
                                        style="stroke: #ffffff; stroke-width: 1px; fill: #ffffff"
                                    >
                                        <path
                                            d="M 10.212 13.135 L 11.063 14.023 Q 12.284 15.318 13.135 16.335 Q 13.986 17.353 14.615 18.333 Q 15.244 19.314 15.725 20.498 Q 16.021 21.312 16.021 21.904 Q 16.021 23.495 14.8 24.827 Q 13.394 26.381 11.544 27.102 Q 9.694 27.824 7.363 28.009 Q 7.067 28.046 6.66 28.083 Q 6.253 28.12 5.735 28.12 Q 5.587 28.12 5.328 28.101 Q 5.069 28.083 4.736 28.046 Q 2.997 28.12 1.406 26.862 Q 0 25.678 0 24.235 Q 0 23.014 1.036 21.756 Q 1.554 21.83 1.647 22.07 Q 1.739 22.311 1.628 23.088 Q 1.628 23.125 1.647 23.217 Q 1.665 23.31 1.702 23.421 Q 3.145 24.087 5.143 24.087 Q 6.623 24.087 8.029 23.735 Q 9.435 23.384 10.453 22.792 Q 11.47 22.2 11.766 21.46 Q 11.951 20.942 11.285 19.924 Q 10.619 18.907 9.491 17.649 Q 8.362 16.391 7.104 15.207 Q 6.216 14.393 5.421 13.616 Q 4.625 12.839 3.885 12.062 Q 3.071 11.174 2.609 10.008 Q 2.146 8.843 2.146 7.585 Q 2.146 5.883 3.016 4.366 Q 3.885 2.849 5.624 1.887 Q 8.954 0 12.432 0 Q 12.691 0 13.024 0.018 Q 13.357 0.037 13.801 0.074 Q 14.208 0.111 14.504 0.185 Q 14.8 0.259 14.985 0.333 Q 15.91 0.703 15.91 1.369 Q 15.91 2.035 14.985 3.071 Q 14.8 3.034 14.504 3.034 L 13.801 3.034 Q 10.545 3.034 7.326 4.921 Q 6.549 5.402 5.994 6.142 Q 5.587 6.623 5.587 7.178 Q 5.587 8.14 6.697 9.102 Q 7.215 9.657 8.103 10.656 Q 8.991 11.655 10.212 13.135 Z M 73.26 14.652 L 73.63 2.59 Q 73.704 0.629 75.665 0.629 Q 78.366 0.629 78.218 2.775 L 77.848 6.549 Q 77.774 7.178 77.682 8.066 Q 77.589 8.954 77.478 10.064 L 77.404 10.915 Q 77.293 11.618 77.293 12.025 Q 77.293 12.321 77.367 12.395 L 78.44 11.359 Q 79.032 10.693 79.476 10.323 Q 80.438 9.435 81.437 9.435 Q 82.251 9.435 82.658 10.064 Q 82.88 10.434 82.88 10.915 Q 82.88 11.322 82.732 11.47 Q 82.177 12.284 80.734 14.023 Q 80.179 14.615 80.179 15.17 Q 80.179 15.688 80.697 16.317 Q 80.919 16.576 81.234 16.964 Q 81.548 17.353 81.955 17.871 Q 83.546 19.906 84.786 21.145 Q 86.025 22.385 87.653 23.199 Q 87.838 23.273 87.949 23.55 Q 88.06 23.828 88.023 23.976 Q 87.986 24.161 87.727 24.346 Q 87.468 24.531 87.283 24.494 Q 87.024 24.42 86.784 24.383 Q 86.543 24.346 86.358 24.309 Q 84.434 23.939 83.62 23.384 Q 82.288 22.422 79.846 20.165 L 78.329 18.759 L 77.663 18.13 L 76.886 17.353 Q 76.812 17.575 76.812 17.908 Q 76.812 18.056 76.831 18.241 Q 76.849 18.426 76.886 18.611 Q 76.96 18.981 76.886 19.166 Q 76.775 21.238 76.701 22.755 Q 76.627 24.272 76.59 25.234 Q 76.516 26.455 76.017 27.084 Q 75.517 27.713 74.629 27.565 Q 74.333 27.528 73.982 27.269 Q 73.63 27.01 73.556 26.751 Q 73.149 25.049 73.149 23.569 Q 73.149 19.092 73.26 14.652 Z M 22.903 13.468 L 22.163 13.283 Q 21.275 13.098 21.053 12.876 Q 20.794 12.58 20.702 12.247 Q 20.609 11.914 20.535 11.322 Q 20.868 10.545 21.756 10.545 Q 21.978 10.582 22.145 10.6 Q 22.311 10.619 22.385 10.619 Q 23.162 10.619 23.31 10.175 Q 23.495 9.694 23.495 8.214 L 23.606 5.994 Q 23.643 4.551 23.828 1.628 Q 23.865 0.111 25.197 0.111 Q 25.419 0.111 25.586 0.129 Q 25.752 0.148 25.9 0.185 Q 27.417 0.518 27.935 1.147 Q 28.453 1.776 28.361 2.534 Q 28.268 3.293 28.157 4.107 Q 27.047 10.619 27.454 10.804 Q 27.454 11.1 27.972 11.285 Q 28.453 11.433 29.452 11.396 Q 30.303 11.211 30.951 11.081 Q 31.598 10.952 32.042 10.915 Q 32.116 10.878 32.283 10.878 L 32.634 10.878 Q 33.078 10.878 33.226 10.989 Q 33.559 11.174 33.559 12.21 Q 33.559 12.617 33.467 12.95 Q 33.374 13.283 33.226 13.32 Q 32.745 13.468 32.153 13.597 Q 31.561 13.727 30.858 13.801 Q 30.044 13.949 29.452 14.078 Q 28.86 14.208 28.453 14.319 Q 28.046 14.43 27.639 14.874 Q 27.232 15.318 27.195 15.688 L 27.084 19.388 Q 27.047 20.831 27.195 22.274 Q 27.306 23.495 27.676 24.031 Q 28.046 24.568 28.786 24.568 Q 29.341 24.568 30.488 24.161 Q 31.043 23.902 31.524 23.902 Q 32.264 23.902 32.523 24.679 Q 32.634 24.938 32.634 25.197 Q 32.634 25.678 32.283 25.974 Q 31.931 26.27 31.339 26.492 Q 30.229 26.899 29.082 26.936 Q 28.305 26.936 27.417 26.825 Q 26.529 26.714 25.697 26.177 Q 24.864 25.641 24.235 24.401 Q 23.606 23.162 23.31 20.905 Q 23.347 20.535 23.347 19.98 L 23.347 18.685 Q 23.347 17.501 23.292 16.28 Q 23.236 15.059 23.162 13.801 Q 23.088 13.579 22.903 13.468 Z M 60.125 12.987 L 59.681 17.353 Q 59.866 17.168 60.236 16.28 Q 60.643 15.392 61.457 14.06 Q 63.196 12.395 65.379 12.062 Q 67.562 11.729 70.189 11.766 Q 70.707 11.766 70.837 12.043 Q 70.966 12.321 70.855 12.635 Q 70.744 12.95 70.448 13.061 Q 68.228 13.801 66.545 14.763 Q 64.861 15.725 63.64 17.279 Q 60.754 20.942 60.31 24.827 Q 60.199 25.863 59.681 26.214 Q 59.163 26.566 58.238 26.566 Q 57.202 26.566 56.388 25.678 Q 55.574 24.79 55.574 23.717 Q 55.611 21.756 55.611 18.814 L 55.611 11.951 Q 55.611 10.878 56.092 10.452 Q 56.573 10.027 57.831 10.027 Q 58.756 10.027 59.404 10.545 Q 60.051 11.063 60.088 11.84 Q 60.199 12.173 60.125 12.987 Z M 37.259 19.351 L 37.814 15.91 Q 38.184 14.467 39.22 13.893 Q 40.256 13.32 41.995 12.95 Q 43.105 12.728 44.178 12.728 Q 47.545 12.728 49.913 15.022 Q 51.134 16.243 51.134 18.019 Q 51.134 19.795 49.876 21.756 Q 48.359 24.05 46.509 25.197 Q 45.325 25.937 43.771 25.937 Q 42.106 25.937 40.515 25.308 Q 38.924 24.716 37.259 19.351 Z M 41.958 18.426 L 41.847 19.721 Q 41.847 19.98 41.866 20.535 Q 41.884 21.09 41.995 21.497 Q 42.365 22.644 42.957 22.94 Q 43.179 23.088 43.79 23.014 Q 44.4 22.94 44.77 22.644 Q 45.14 22.311 45.658 21.552 Q 46.176 20.794 46.602 19.832 Q 47.027 18.87 47.027 17.982 Q 47.027 16.798 46.361 15.817 Q 45.695 14.837 44.511 14.504 Q 44.4 14.467 44.067 14.467 Q 43.327 14.467 43.253 14.689 Q 42.957 15.429 42.643 16.372 L 41.958 18.426 Z"
                                        />
                                    </g>
                                </svg>
                            </span>
                        </a>
                    </div>
                </ng-template>
                <ng-template #end
                    ><div class="flex align-items-center gap-2 mx-1 sm:mx-2">
                        <p-toggleButton
                            [(ngModel)]="isDark"
                            (onChange)="changeTheme($event.checked)"
                            onIcon="pi pi-moon"
                            offIcon="pi pi-sun"
                            ariaLabel="Dark/light mode"
                            size="small"
                            [onLabel]="null"
                            [offLabel]="null"
                            [dt]="darkModeToggleButton"
                        />
                        <p-progressSpinner
                            *ngIf="(loadingInProgress | async)['state']"
                            [pTooltip]="(loadingInProgress | async)['text']"
                            styleClass="w-2rem h-2rem white-spinner"
                            strokeWidth="6"
                            animationDuration=".5s"
                        ></p-progressSpinner>
                        <app-global-search></app-global-search>
                        <p-splitButton
                            label="Logout ({{ this.currentUser.login || this.currentUser.email }})"
                            icon="pi pi-sign-out"
                            id="logout-button"
                            (onClick)="signOut()"
                            [model]="userMenuItems"
                            title="Logout ({{ this.currentUser.login || this.currentUser.email }})"
                        ></p-splitButton></div
                ></ng-template>
            </p-menubar>
        </div>
    </div>
    <div>
        <app-priority-errors-panel></app-priority-errors-panel>
    </div>
</div>
<div class="m-3">
    <p-toast styleClass="stork-toast"></p-toast>

    <router-outlet></router-outlet>
</div>
